<!DOCTYPE html>
<html>
  <head>
    <title>${app_name} User Directory</title>
    <meta name="robots" content="noindex" />

    <link rel="shortcut icon" href="../images/favicon.ico" />
    <link rel="apple-touch-icon" href="../images/logo.png" />
  </head>

  <body>
    <h3>User Directory</h3>
    <table
      id="users_table"
      class="display order-column"
      style="width: 100%"
    ></table>

    <script async>
      const admin = +"${admin}"
      const url = "${url}"

      const response = await fetch(url);
      const j = await response.json()
      console.log(j)
      // function combineNames(data, type, row, meta) {
      //     return row.lastname + ", " + row.firstname;
      // }

      // const data = {{ data|tojson }};
      // let atable = $('#users_table').DataTable({
      //     pageLength: 100,
      //     deferRender: true,
      //     scroller: true,
      //     data: data,
      //     columns: [
      //         {title: "",    data: "id", render: formatUserId},
      //         {title: "username",  data: "username"},
      //         {title: "City",    data: "city"},
      //         {title: "Region",    data: "state"},
      //         {title: "Country", data: "country"},
      //         {
      //             title: "last active",
      //             data: "dt_last_active",
      //             render: formatDate,
      //         }
      //     ],
      //     scrollY: "80vh",
      //     scrollX: true,
      //     scrollCollapse: true,
      //     select: false,
      //     order: [[ 5, "desc" ]]
      // });
    </script>
  </body>
</html>
