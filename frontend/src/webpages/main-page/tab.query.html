<!-- Main Query tab -->

<h3>Activities Query:</h3>

<span data-qshow="days,activities">
  <input
    type="number"
    value="0"
    min="1"
    max="9999"
    data-bind="query.quantity:value"
  />
</span>

<select id="queryType" data-bind="query.queryType:value">
  <option value="days">recent days</option>
  <option value="activities" selected>recent activities</option>
  <option value="ids">Activity IDs</option>
  <option value="dates">Date-Range</option>
  <option value="key">Key</option>
</select>

<br />

<div id="key-input" data-qshow="key">
  <input type="text" value="" data-bind="query.key:value" />
</div>

<div id="ids-input" data-qshow="ids">
  <textarea
    autocomplete="on"
    placeholder="enter activity ids here"
    spellcheck="false"
    data-bind="query.ids:value"
  >
  </textarea>
</div>

<div id="date-range-input" data-qshow="dates">
  After:
  <input type="date" class="qdate" data-bind="query.after:value" />
  <span class="validity"></span>
  <br />
  Before:
  <input type="date" class="qdate" data-bind="query.before:value" />
  <span class="validity"></span>
</div>

<br />

<label>
  <input type="checkbox" data-bind="visual.autozoom:checked" />
  Auto-Zoom
  <i class="hf hf-bullseye"></i>
  to query after import
</label>

<br />
<div class="info-message"></div>

<br />

<!-- display only while not importing -->
<button
  id="button:query"
  type="button"
  class="btn btn-a btn-sm smooth conditional-hide"
>
  <i class="hf hf-cloud-download"></i>
  Query
</button>
<!-- ------------------------------- -->

<div id="import-progress-div">
  <!-- display only while importing  -->
  <div class="progress">
    <progress class="progbar"></progress>
  </div>
  <br />
  <button type="button" class="btn btn-c btn-sm smooth" id="button:abort-query">
    <i class="hf hf-cancel-circle"></i>
    Abort Import
  </button>
</div>

<br />

<!-- Displayed only if current-user's id is set (logged-in) -->
<div id="logout-dialog">
  You are authenticated as
  <a href="#" target="_blank" data-bind="currentUser.stravaUrl:href">
    <span data-bind="currentUser.name:innerText"
      ><button
        class="avatar"
        data-class="current-user"
        data-bind="currentUser.profile:*data-url"
      ></button
      >(current-user)</span
    >
  </a>
  <br /><br />

  <button type="button" class="btn btn-c btn-sm" id="button:logout">
    <i class="hf hf-sign-out"></i>
    Log Out
  </button>
</div>

<br />

<!-- Displayed only if current-user id is not set (not logged-in) -->
<div id="login-dialog">
  Create an account and/or log in.<br />
  <button class="strava-auth" id="button:login"></button>
</div>

<br />
