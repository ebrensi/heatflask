<!-- Main Query tab -->

<h3>Activities Query:</h3>

<span data-qshow="days,activities">
  <input
    id="quantity"
    type="number"
    value="0"
    min="1"
    max="9999"
    data-bind="query.quantity:value"
  />
</span>

<select id="queryType" data-bind="query.type:value">
  <option value="days">recent days</option>
  <option value="activities" selected>recent activities</option>
  <option value="ids">Activity IDs</option>
  <option value="dates">Date-Range</option>
  <option value="key">Key</option>
</select>

<br />

<div data-qshow="key">
  <input type="text" value="" data-bind="query.key:value" />
</div>

<div data-qshow="ids">
  <textarea
    autocomplete="on"
    placeholder="enter activity ids here"
    spellcheck="false"
    data-bind="query.ids:value"
  >
  </textarea>
</div>

<div data-qshow="dates">
  After:
  <input type="date" id="date-after" data-bind="query.after:value" />
  <br />
  Before:
  <input type="date" id="date-before" data-bind="query.before:value" />
</div>

<br />

<label>
  <input type="checkbox" id="autozoom" data-bind="visual.autozoom:checked" />
  Auto-Zoom
  <i class="hf hf-bullseye"></i>
  to query after import
</label>

<br />
<div class="info-message"></div>

<br />

<!-- display only while not importing -->
<button
  id="button:query"
  type="button"
  data-mshow="!importing"
  class="btn btn-a btn-sm smooth"
>
  <i class="hf hf-cloud-download"></i>
  Query
</button>
<!-- ------------------------------- -->

<div data-fshow="importing">
  <!-- display only while importing  -->
  <div class="import-progress">
    <div class="progress msgbox"></div>
    <progress class="progbar"></progress>
  </div>
  <br />
  <button type="button" class="btn btn-c btn-sm smooth" id="button:abort">
    <i class="hf hf-cancel-circle"></i>
    Abort Import
  </button>
</div>

<br />

<!-- Displayed only if current-user's id is set (logged-in) -->
<div data-fshow="authenticated">
  You are authenticated as
  <a href="#" target="_blank" data-bind="currentUser.stravaUrl:href">
    <span data-bind="currentUser.name:innerText"
      ><button
        class="avatar"
        data-class="current-user"
        data-bind="currentUser.profile:*data-url"
      ></button
      >(current-user)</span
    >
  </a>
  <br /><br />

  <button type="button" class="btn btn-c btn-sm" id="button:logout">
    <i class="hf hf-sign-out"></i>
    Log Out
  </button>
</div>

<br />

<!-- Displayed only if current-user id is not set (not logged-in) -->
<div data-fshow="!authenticated">
  Create an account and/or log in.<br />
  <button class="strava-auth" id="button:login"></button>
</div>

<br />
